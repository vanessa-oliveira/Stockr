<div class="content">
  <p-button label="Adicionar configuração de estoque" (click)="openInventoryForm()"/>
  <app-inventory-form [(visible)]="visible" [inventory]="selectedInventory" (inventoryChanged)="loadInventory()"></app-inventory-form>
  <div class="list">
    <p-table [value]="inventory" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template #header>
        <tr>
          <th>Produto</th>
          <th>Estoque Atual</th>
          <th>Estoque Mínimo</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </ng-template>
      <ng-template #body let-item>
        <tr>
          <td>{{ item.productName }}</td>
          <td>{{ item.currentStock }}</td>
          <td>{{ item.minStock }}</td>
          <td>
            <span [style.color]="item.currentStock < item.minStock ? 'red' : item.currentStock < item.minStock * 1.5 ? 'orange' : 'green'">
              {{ item.currentStock < item.minStock ? 'Crítico' : item.currentStock < item.minStock * 1.5 ? 'Baixo' : 'Normal' }}
            </span>
          </td>
          <td class="actions" style="display: flex; gap: 8px;">
            <i class="pi pi-pencil" style="cursor: pointer;" (click)="editInventory(item)"></i>
            <i class="pi pi-trash" style="cursor: pointer;" (click)="deleteInventory(item)"></i>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <p-confirmDialog></p-confirmDialog>
</div>